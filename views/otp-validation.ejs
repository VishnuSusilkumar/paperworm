<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="description" content="Discover a wide range of English books in Kannur, Kerala. Browse fiction, non-fiction, bestsellers, and more.">
    <title>PaperWorm | <%= title%></title>

    <link rel="apple-touch-icon" sizes="180x180" href="../template/assets/img/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../template/assets/img/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../template/assets/img/favicons/favicon-16x16.png">
    <link rel="shortcut icon" type="image/x-icon" href="../template/assets/img/favicons/favicon-32x32.png">
    <link rel="manifest" href="../template/assets/img/favicons/manifest.json">
    <meta name="msapplication-TileImage" content="../template/assets/img/favicons/mstile-150x150.png">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css" integrity="sha384-b6lVK+yci+bfDmaY1u0zE8YYJt0TZxLEAFyYSLHId4xoVvsrQu3INevFKo+Xir8e" crossorigin="anonymous">
    <!-- Font Icon -->
    <link rel="stylesheet" href="../signup/fonts/material-icon/css/material-design-iconic-font.min.css">

    <!-- Main css -->
    <link rel="stylesheet" href="../signup/css2/style.css">
    <link href="../signup/css/bootstrap.css" rel="stylesheet" />

    <style>
      .resend-form {
          display: inline-block;
          
          
      }
    </style>
</head>
<body>

  <div class="main">

    <div class="container">
        <div class="booking-content">
            <div class="booking-image">
                <img class="booking-img" src="../signup/images/form-img.jpg" alt="Booking Image">
            </div>
            <div class="booking-form">
              <form class="pb-0" action="/otp-validation" method="post">
                <h1>OTP Validation</h1>
                <% if(warning) {%>
                    <div class="alert alert-warning border border-warning w-80 d-flex justify-content-center fw-bold py-2" role="alert" ><%= warning %></div>
                 <% } %>
                 <div id="countdown" class="mt-3"></div>
                 <p>Enter the OTP sent to your email:</p>
            
                <div class="form-group form-input p-0">
                  <input type="hidden" name="email" id="email" value="<%= email %>" />
                </div>
            
                <div class="form-group form-input">
                  <input type="number" name="otp" id="otp" value="" required />
                  <label for="otp" class="form-label">Your OTP</label>
                </div>
                  <div class="form-submit mt-4">
                    <input type="submit" value="Submit" class="submit" id="submit" name="submit"/>
                    
                </div>
              </form>

              <form class="pt-0 resend-form" action="/resend-forgot-otp" method="post">

                <div class="form-group form-input p-0">
                  <input type="hidden" name="email" id="email" value="<%= email %>" />
                </div>
                <div class="form-submit  mt-3">
                  <input type="submit" value="Resend" class="submit" id="submit" style="background-color: brown;" name="submit"/>  
                </div>

              </form>
            </div>
          </div>
      </div>

  </div>

  <script>
    // JavaScript for countdown timer
    var expirationTime = '<%= expirationTime %>';
    var countdownElement = document.getElementById('countdown');
    
    function updateCountdown() {
        var now = new Date();
        var remainingTime = new Date(expirationTime) - now;
    
        if (remainingTime <= 0) {
            countdownElement.innerHTML = 'OTP has expired';
        } else {
            var minutes = Math.floor((remainingTime % (1000 * 60 * 60)) / (1000 * 60));
            var seconds = Math.floor((remainingTime % (1000 * 60)) / 1000);
            countdownElement.innerHTML = 'Time remaining: ' + minutes + 'm ' + seconds + 's';
        }
    }
    
    updateCountdown();
    setInterval(updateCountdown, 1000); // Update every second
    </script>
  
  

  
   <!-- JS -->
   <script src="../signup/vendor/jquery/jquery.min.js"></script>
   <script src="../signup/js2/main.js"></script>
   <script src="../javascripts/signupvalidation.js"></script>
   <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>


  <!-- Add your additional content or scripts here -->

</body>

</html>
